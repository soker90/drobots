<?xml version="1.0" encoding="UTF-8" ?>
<!-- This file was written by IceGrid Admin -->
<icegrid>
   <application name="drobots">
      <distrib icepatch="${application}.IcePatch2/server"/>
      <server-template id="FactoryTemplate">
         <parameter name="index"/>
         <server id="Factory${index}" activation="always" exe="./src/Factory.py" pwd="/home/edu/drobots/src/">
            <properties>
               <property name="Ice.ThreadPool.Server.Size" value="10"/>
            </properties>
            <distrib icepatch="${application}.IcePatch2/server"/>
            <adapter name="FactoryAdapter" endpoints="tcp" id="${server}.FactoryAdapter">
               <object identity="factory${index}" type="::services::Factory" property="Identity"/>
            </adapter>
         </server>
      </server-template>
      <node name="node1">
         <server id="Container" activation="always" exe="./Container.py" pwd="/home/edu/drobots/src/">
            <env>directory=/tmp/db/container</env>
            <properties>
            </properties>
            <distrib icepatch="${application}.IcePatch2/server"/>
            <adapter name="ContainerAdapter" endpoints="tcp -p 10004" id="${server}.ContainerAdapter">
               <object identity="container" property="Identity"/>
            </adapter>
         </server>
         <server id="Player" activation="manual" exe="./Client.py" pwd="/home/edu/drobots/src/">
            <env>directory=/tmp/db/player</env>
            <properties>
               <property name="Game.Locator" value="IceGrid/Locator -t:tcp -h atclab.esi.uclm.es -p 4061"/>
               <property name="Game" value="drobots3"/>
            </properties>
            <adapter name="PlayerAdapter" endpoints="default" id="${server}.PlayerAdapter">
               <object identity="player"/>
            </adapter>
         </server>
      </node>
      <node name="node2">
      </node>
   </application>
</icegrid>
